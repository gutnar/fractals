webpackJsonp([0],{"7kji":function(e,t){e.exports="precision highp float;\nvarying float v_color;\n\nvoid main() {\n    gl_FragColor = vec4(0.0, v_color, 1.0, 1.0);\n}\n"},EXYg:function(e,t){e.exports="precision highp float;\nuniform vec2 u_c;\nuniform vec2 u_scale;\nuniform vec2 u_offset;\nvarying vec2 v_coord;\n\nvoid main() {\n    vec2 c = vec2((v_coord[0]-u_offset[0])*u_scale[0], -(1.0-v_coord[1]-u_offset[1])*u_scale[1]);\n    vec2 z = vec2(0.0, 0.0);\n    int iterations = 100;\n\n    for (int i = 0; i < 100; ++i) {\n        float x = z[0];\n        float y = z[1];\n\n        z[0] = x*x - y*y + c[0];\n        z[1] = 2.0*x*y + c[1];\n\n        float m = sqrt(z[0]*z[0] + z[1]*z[1]);\n\n        if (m > 2.0) {\n            iterations = i;\n            break;\n        }\n    }\n\n    gl_FragColor = vec4(0.0, float(iterations)/32.0, 0.0, 1.0);\n}\n"},"Jx+z":function(e,t){},NHnr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=n("/5sW"),i=n("rXCT"),a=n.n(i),o=n("EXYg"),r=n.n(o),c={name:"Mandelbrot",props:["value"],data:function(){var e=this;return{gl:null,scale:[3,3],offset:[.75,.5],shader:null,mousedown:!1,mousepos:null,mousedownListener:function(){e.mousedown=!0},mouseupListener:function(){e.mousedown=!1}}},mounted:function(){var e=this;this.gl=a.a.create({canvas:this.$refs.canvas}),this.gl.onmousemove=function(t){e.mousepos=[t.canvasx,t.canvasy],e.mousedown&&(e.c=[Math.round((e.mousepos[0]/e.gl.canvas.width-e.offset[0])*e.scale[0]*1e3)/1e3,-Math.round((1-e.mousepos[1]/e.gl.canvas.height-e.offset[1])*e.scale[1]*1e3)/1e3],e.$emit("input",e.c))},this.gl.onmousedown=function(t){e.mousedownListener(),e.gl.onmousemove(t)},this.gl.onmouseup=function(){e.mouseupListener()},this.gl.captureMouse(),window.addEventListener("mousedown",this.mousedownListener),window.addEventListener("mouseup",this.mouseupListener),this.shader=new a.a.Shader(a.a.Shader.SCREEN_VERTEX_SHADER,r.a),this.reset()},methods:{draw:function(){this.scale=[3,3],this.gl.canvas.width<this.gl.canvas.height?this.scale[1]*=this.gl.canvas.height/this.gl.canvas.width:this.scale[0]*=this.gl.canvas.width/this.gl.canvas.height,this.gl.makeCurrent(),this.shader.toViewport({u_scale:this.scale,u_offset:this.offset})},reset:function(){this.gl.canvas.width=this.gl.canvas.clientWidth,this.gl.canvas.height=this.gl.canvas.clientHeight,this.gl.makeCurrent(),this.gl.reset(),this.draw()}},destroyed:function(){this.gl.makeCurrent(),this.gl.destroy(),window.removeEventListener("mousedown",this.mousedownListener),window.removeEventListener("mouseup",this.mouseupListener)}},u={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container"},[n("div",{staticClass:"instructions"},[n("h1",[e._v("Mandelbrot set")]),e._v(" "),e._m(0),e._v(" "),n("p",[e._v("\n      c = "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.value[0],expression:"value[0]"}],attrs:{type:"number",step:"0.01"},domProps:{value:e.value[0]},on:{input:function(t){t.target.composing||e.$set(e.value,0,t.target.value)}}}),e._v(" + "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.value[1],expression:"value[1]"}],attrs:{type:"number",step:"0.01"},domProps:{value:e.value[1]},on:{input:function(t){t.target.composing||e.$set(e.value,1,t.target.value)}}}),e._v(" i\n    ")])]),e._v(" "),e.gl?n("div",{staticClass:"c-marker",style:{left:(e.value[0]/e.scale[0]+e.offset[0])*e.gl.canvas.width+"px",top:(1-(e.value[1]/e.scale[1]+e.offset[1]))*e.gl.canvas.height+"px"}}):e._e(),e._v(" "),n("canvas",{ref:"canvas"})])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("Click or hold down the mouse button to change "),t("strong",[this._v("c")]),this._v(".")])}]},l=n("VU/8")(c,u,!1,function(e){n("aiIP")},"data-v-e3aeda0c",null).exports,h=n("tORb"),v=n.n(h),d=n("VnQK"),f=n.n(d),m=n("7kji"),g=n.n(m),_={name:"Julia",props:["c"],data:function(){return{gl:null,scale:[3,3],shader:null,pathShader:null}},mounted:function(){var e=this;this.gl=a.a.create({canvas:this.$refs.canvas}),this.shader=new a.a.Shader(a.a.Shader.SCREEN_VERTEX_SHADER,v.a),this.pathShader=new a.a.Shader(f.a,g.a),this.gl.onmousedown=function(t){var n=[Math.round((t.canvasx/e.gl.canvas.width-.5)*e.scale[0]*1e3)/1e3,-Math.round((1-t.canvasy/e.gl.canvas.height-.5)*e.scale[1]*1e3)/1e3];e.showPath(n)},this.gl.captureMouse(),this.gl.reset()},methods:{draw:function(){this.scale=[3,3],this.gl.canvas.width<this.gl.canvas.height?this.scale[1]*=this.gl.canvas.height/this.gl.canvas.width:this.scale[0]*=this.gl.canvas.width/this.gl.canvas.height,this.gl.makeCurrent(),this.shader.toViewport({u_c:this.c,u_scale:this.scale,u_offset:[.5,.5]})},reset:function(){this.gl.canvas.width=this.gl.canvas.clientWidth,this.gl.canvas.height=this.gl.canvas.clientHeight,this.gl.makeCurrent(),this.gl.reset(),this.draw()},showPath:function(e){for(var t=[e[0],e[1]],n=[e[0],e[1],0],s=0;s<100;++s){var i=t[0],o=t[1];t[0]=i*i-o*o+this.c[0],t[1]=2*i*o+this.c[1],n.push(t[0]),n.push(t[1]),n.push(2*s+1),n.push(t[0]),n.push(t[1]),n.push(2*s+2)}this.draw(),this.gl.reset();var r=a.a.Mesh.load({vertices:n});this.pathShader.uniforms({u_scale:this.scale,u_offset:[.5,.5]}).draw(r,this.gl.LINES)}},watch:{c:function(){this.draw()}},destroyed:function(){this.gl.makeCurrent(),this.gl.destroy()}},p={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"container"},[this._m(0),this._v(" "),t("canvas",{ref:"canvas"})])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"instructions"},[t("h1",[this._v("Filled Julia set")]),this._v(" "),t("p",[this._v("Click on a position to view the iteration path.")])])}]},w={name:"app",components:{Mandelbrot:l,Julia:n("VU/8")(_,p,!1,function(e){n("Jx+z")},"data-v-03aac891",null).exports},data:function(){var e=this;return{c:[-.63,.4],resizeListener:function(){e.resetSize()}}},mounted:function(){this.resetSize(),window.addEventListener("resize",this.resizeListener)},methods:{resetSize:function(){var e=this,t=window.innerWidth/2;this.$refs.mandelbrot.$refs.canvas.style.width=t+"px",this.$refs.julia.$refs.canvas.style.width=window.innerWidth-t-1+"px",setTimeout(function(){e.$refs.mandelbrot.reset(),e.$refs.julia.reset()})}},destroyed:function(){window.removeEventListener("resize",this.resizeListener)}},x={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("Mandelbrot",{ref:"mandelbrot",model:{value:e.c,callback:function(t){e.c=t},expression:"c"}}),e._v(" "),n("Julia",{ref:"julia",attrs:{c:e.c}})],1)},staticRenderFns:[]},z=n("VU/8")(w,x,!1,function(e){n("Rn15")},null,null).exports;s.a.config.productionTip=!1,new s.a({el:"#app",render:function(e){return e(z)}})},Rn15:function(e,t){},VnQK:function(e,t){e.exports="precision highp float;\nuniform vec2 u_scale;\nuniform vec2 u_offset;\nattribute vec3 a_vertex;\nvarying float v_color;\n\nvoid main() {\n    //vec2 z = vec2((v_coord[0]-u_offset[0])*u_scale[0], (-1.0+v_coord[1]+u_offset[1])*u_scale[1]);\n    gl_Position = vec4(a_vertex[0]/u_scale[0]*2.0, a_vertex[1]/u_scale[1]*2.0, 1.0, 1.0);\n    v_color = a_vertex[2]/100.0;\n    //gl_Position = vec4(a_vertex[0], a_vertex[1], 1.0, 1.0);\n}\n"},aiIP:function(e,t){},rXCT:function(e,t){e.exports=GL},tORb:function(e,t){e.exports="precision highp float;\nuniform vec2 u_c;\nuniform vec2 u_scale;\nuniform vec2 u_offset;\nvarying vec2 v_coord;\n\nvoid main() {\n    vec2 z = vec2((v_coord[0]-u_offset[0])*u_scale[0], -(1.0-v_coord[1]-u_offset[1])*u_scale[1]);\n    int iterations = 100;\n\n    for (int i = 0; i < 100; ++i) {\n        float x = z[0];\n        float y = z[1];\n\n        z[0] = x*x - y*y + u_c[0];\n        z[1] = 2.0*x*y + u_c[1];\n\n        float m = sqrt(z[0]*z[0] + z[1]*z[1]);\n\n        if (m > 2.0) {\n            iterations = i;\n            break;\n        }\n    }\n\n    gl_FragColor = vec4(float(iterations)/32.0, 0.0, 0, 1.0);\n}\n"}},["NHnr"]);
//# sourceMappingURL=app.3b85477a56b60c2d35fc.js.map